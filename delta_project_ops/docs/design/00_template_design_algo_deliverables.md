# アルゴ側 成果物テンプレート設計書

> **プロジェクト**: Delta Project Ops - 成果物テンプレート標準化
> **対象**: アルゴ側（AI/ML PoC）の3成果物
> **作成日**: 2026-02-19
> **ステータス**: ドラフト

---

## 1. 背景と目的

### 1.1 背景

[delta-development-process.html](../delta-development-process.html) で定義された Delta 開発プロセスに沿った成果物テンプレートが未整備であり、PJ ごとにフォーマットがばらつく。各 PJ で標準的にログが残っていく仕組みを作る。

### 1.2 対象テンプレート

| # | 成果物 | 役割 | 主な生成フェーズ |
|---|--------|------|----------------|
| 1 | プロジェクト推進履歴 | 要件・設計・検証の**変更ログ**。何が・いつ・誰の言葉で・なぜ変わったか | Phase 2〜3 |
| 2 | プロジェクト全体設計 | **ゴールと計画**。プロジェクトの成功定義と、そこに至る道筋 | Phase 3 初期 |
| 3 | 意思決定プロセス（アルゴ） | **判断の記録**。誰と・何を根拠に・なぜそう決めたか | Phase 3 全期間 |

### 1.3 設計方針

- **必要な要素を定義し、フォーマットは縛らない**: テンプレートは「何を書くべきか」を示すが、具体的な表の形式やセクション構成は PJ ごとに自由に定義してよい
- **追記型**: 高頻度更新に最適化。毎回全体を書き直す必要がない構造
- **相互参照**: 3つのテンプレート間を ID で連携し、情報の重複を避ける

### 1.4 評価パラダイムについて

LLM の台頭により、AI/ML PoC の評価は「正解データに対する定量精度」だけでは測れなくなった。テンプレート内の「評価」「成功基準」に関する記述は、以下いずれの評価タイプでも記録できる前提で設計する。

| 評価タイプ | 概要 | 例 |
|-----------|------|-----|
| ルーブリック評価 | 多次元の品質観点ごとにスコアリング | 品質観点 Q1〜Q6 の 5 段階評価 |
| 段階判定 | 「業務で使えるか」の実用性判定 | 使える度 A/B/C/D |
| 禁則条件チェック | 出してはいけない出力の Pass/Fail | NG1: 一般論、NG2: 根拠なし |
| エキスパート FB | 専門家の構造化フィードバック | オープンエンド FB → カテゴリマッピング |
| 従来型定量指標 | Precision/Recall/F1 等 | Retrieval 精度、レイテンシ |

### 1.5 他テンプレートとの連携

要求仕様テンプレート（システム側）との接続点：

- 全体設計の「実証済み能力」「制約」→ 要求仕様の「PoC で実証された能力」「制約」に引き継ぎ
- 要求仕様の「価値観点チェック」パターン → 全体設計・意思決定のセルフチェックリストに採用

---

## 2. テンプレート間の関係

```
┌───────────────────────────────────────────────────────────┐
│  プロジェクト推進履歴（変更ログ）                            │
│                                                           │
│  要件・設計・検証が "なぜ変わったか" の時系列記録            │
│  → 全体設計・意思決定ログへの参照を含む                      │
└────────────────────┬──────────────────────────────────────┘
                     │ 変更があれば記録
                     │
       ┌─────────────┴─────────────┐
       ▼                           ▼
┌──────────────────┐  ┌────────────────────────────────────┐
│ プロジェクト      │  │   意思決定プロセス（アルゴ）          │
│ 全体設計         │  │                                    │
│                  │  │   "なぜそう決めたか" のログ           │
│ ゴール・計画      │◀─│   選択肢・根拠・エキスパートの声       │
│ 成果・知見       │  │                                    │
└──────────────────┘  └────────────────────────────────────┘
```

---

## 3. ディレクトリ構造

```
{project-root}/docs/algo/
├── 00_progress_history.md    # プロジェクト推進履歴
├── 01_project_design.md      # プロジェクト全体設計
├── 02_decision_log.md        # 意思決定プロセス（アルゴ）
├── verifications/            # 検証記事（将来テンプレート化）
└── detailed_designs/         # 詳細検証設計（将来テンプレート化）
```

---

## 4. テンプレート詳細設計

### 4.1 プロジェクト推進履歴 (`00_progress_history.md`)

#### 役割

要件・設計・検証・意思決定の**変更ログ**。プロジェクトが進む中で「何が・いつ・誰の言葉/思想によって・なぜ変わったか」を時系列で記録する。

進捗管理や検証のダッシュボードではない（それは全体設計が担う）。あくまで**変更の背景と経緯**を残すことが目的。

#### 必要な要素

各エントリーに以下の要素を含める：

| 要素 | 説明 | 必須 |
|------|------|------|
| 日付 | いつ変更が起きたか | Yes |
| 変更対象 | 何が変わったか（要件/設計/検証方針/評価基準/スコープ etc.） | Yes |
| 背景・トリガー | なぜ変更が必要になったか | Yes |
| 誰の言葉・思想 | 誰の発言・判断・フィードバックが変更のきっかけか | Yes |
| 変更前→変更後 | 何がどう変わったかの概要 | Yes |
| 関連 | 意思決定ログや検証記事への参照 | 該当時 |

#### テンプレート構造

```markdown
# プロジェクト推進履歴

## ログ

### {YYYY-MM-DD}: {変更の概要タイトル}

- **変更対象**: {要件 / 検証設計 / 評価基準 / スコープ / ...}
- **背景**: {なぜこの変更が必要になったか}
- **トリガー**: {誰の言葉・誰のFB・どのMTGでの議論か}
- **変更内容**: {変更前→変更後の概要}
- **関連**: [意思決定ログ #{XXX}](02_decision_log.md)

---

### {YYYY-MM-DD}: {変更の概要タイトル}

...（追記していく）
```

#### 設計意図

| 判断 | 理由 |
|------|------|
| 「ダッシュボード」ではなく「変更ログ」に徹する | 検証の進捗・成果は全体設計で管理。推進履歴は「なぜ計画が変わったか」のトレーサビリティを残す役割 |
| 「誰の言葉・思想」を必須要素に | 変更の背景には必ず人の判断がある。後から振り返った時に「なぜあの時そうしたか」を再構成できるようにする |
| フォーマットは最小限 | 各PJで独自の書き方をしてよい。要素が含まれていればOK |

---

### 4.2 プロジェクト全体設計 (`01_project_design.md`)

#### 役割

プロジェクトの**ゴールと計画**を言語化したドキュメント。「プロジェクトの成功とは何か」を定義し、そこに至る計画を纏め、成果を記録する。

#### 構造の考え方

```
1. 前提（最終的なゴール）
   └ このPJは最終ゴールにどう近づくのか

2. ゴール
   ├ 納品物
   ├ 想定アウトプット（何が言えたらいいのか）
   ├ 要件
   └ 検証・開発スコープ
       ├ 解きたい課題（わかっていない場合は「何がわかっていないか」）
       └ 仮説を立てるために必要な情報の設計

3. 計画
   ├ 検証設計（検証項目ごとの概要 + ステータス。詳細は検証記事に委譲）
   ├ スケジュール
   ├ リスク
   ├ MTG設計
   └ 制約

4. 成果（PJ中に随時追記）
   ├ このPJで明らかになったこと
   └ 実証済み能力
```

#### 必要な要素

**1. 前提**

| 要素 | 説明 |
|------|------|
| 最終的なゴール | 最終的に提供したい価値。このPJだけでは実現しきれない場合の全体像 |
| このPJの位置づけ | 最終ゴールに対して、このPJがカバーする範囲 |

**2. ゴール**

| 要素 | 説明 |
|------|------|
| 納品物 | 何を納品するか |
| 想定アウトプット | PJ完了時に何が言えたらいいのか。期待する結論・主張 |
| 要件 | PJとして満たすべき要件 |
| 解きたい課題 | PJとして解くべき課題。課題自体がわかっていない場合は「何を明らかにするか」を定義 |
| 検証スコープ | 最終ゴール実現に必要な検証項目のうち、このPJで取り組むもの |
| 未知の領域・情報不足 | 仮説を立てるために必要だが、まだ手元にない情報。それをどう取得するかの設計 |

**3. 計画**

| 要素 | 説明 |
|------|------|
| 検証設計 | 検証項目ごとに以下を概要レベルで記載（詳細は検証記事に委譲） |
| 　├ 検証テーマ | 何を検証するか（問い） |
| 　├ アプローチ | どう検証するか（手法の概要） |
| 　├ 評価方法・成功基準 | どう評価するか、何をもって成功とするか |
| 　├ 必要データ | 検証に必要なデータ・リソース |
| 　├ ステータス | 未検証/検証中/検証済/棄却 |
| 　└ 詳細リンク | 詳細検証記事へのリンク |
| スケジュール | マイルストーン、アジャイル/ウォーターフォールの使い分け |
| リスク | アンコントローラブルな要素と対応策 |
| MTG設計 | 各MTGの出席者・目的・アジェンダ・頻度 |
| 制約 | LLMセキュリティ、コスト、レイテンシ、データ量等 |

**4. 成果**（PJ中に随時追記）

| 要素 | 説明 |
|------|------|
| このPJで明らかになったこと | PJ中に得られた知見・発見。想定外の結果や新たな課題を含む |
| 実証済み能力 | PoC完了時にサマリ。要求仕様テンプレートの「PoC で実証された能力」への入力元 |

#### テンプレート構造

フォーマットは PJ ごとに自由。上記の「必要な要素」を満たしていればよい。以下は構成例：

```markdown
# プロジェクト全体設計

## 1. 前提

### 最終的なゴール
{最終的に提供したい価値}

### このPJの位置づけ
{最終ゴールに対して、このPJがカバーする範囲}

---

## 2. ゴール

### 納品物
{納品物の一覧}

### 想定アウトプット
{PJ完了時に何が言えたらいいのか。期待する結論・主張}

### 要件
{PJとして満たすべき要件}

### 解きたい課題
{PJとして解くべき課題。不明確な場合は「何を明らかにするか」}

### 検証スコープ
{検証項目の一覧。スコープ外の項目も将来ビジョンとして記載}

### 未知の領域・情報設計
{仮説を立てるために必要だが不足している情報と、その取得方法}

---

## 3. 計画

### 検証設計

#### {検証テーマ1}
- **アプローチ**: {どう検証するか}
- **評価方法・成功基準**: {どう評価するか、何をもって成功とするか}
- **必要データ**: {検証に必要なデータ・リソース}
- **ステータス**: 未検証
- **詳細**: [検証記事へのリンク](verifications/xxx.md)

#### {検証テーマ2}
...

### スケジュール
{マイルストーン、ガントチャート等}

### リスク
{リスクと対応策}

### MTG設計
{各MTGの出席者・目的・アジェンダ・頻度}

### 制約
{セキュリティ、コスト、レイテンシ、データ量等}

---

## 4. 成果

### このPJで明らかになったこと
{PJ中に得られた知見・発見を随時追記}

### 実証済み能力（PoC完了時）
{PoC完了時の能力サマリ。要求仕様の「PoC で実証された能力」への入力元}

---

## セルフチェックリスト

### 前提
- [ ] クライアントと認識の相違がないか

### ゴール（全体としてクライアントと合意が取れているか）
- [ ] 納品物に抜け漏れがないか
- [ ] 想定アウトプットが具体的に書かれているか（何が言えたらいいのか）
- [ ] 要件が記載されているか
- [ ] 解きたい課題が書かれているか
- [ ] スコープは解きたい課題を包含しているか
- [ ] 最終ゴール実現に必要な検証項目が（本PJスコープ外も含め）記載されているか
- [ ] 本PJのスコープは優先順位が高いものになっているか
- [ ] 仮説を立てるのに必要な情報が不足していないか。不足している場合、その取得方法が設計されているか

### 計画
- [ ] 検証設計: 各検証項目のアプローチ・評価方法・成功基準が書かれているか
- [ ] スケジュール: マイルストーンは方針変更に間に合うタイミングか
- [ ] スケジュール: アジャイル/ウォーターフォールの使い分けが設計されているか
- [ ] スケジュール: 検証コード作成やリファクタリングの工数が含まれているか
- [ ] リスク: アンコントローラブルな要素が書かれているか
- [ ] リスク: 発生時の対応策が書かれているか
- [ ] リスク: クライアントと共有できているか
- [ ] MTG: 各MTGの出席者・目的・アジェンダ・頻度が設計されているか
- [ ] 再現性: コード・検証記事が再現可能な状態になっているか

---

## 変更履歴
| 日付 | 変更内容 | 関連意思決定 |
|------|---------|------------|
```

#### 設計意図

| 判断 | 理由 |
|------|------|
| 「前提→ゴール→計画→成果」の4層構造 | 前提〜計画はPJ開始時に定義、成果はPJ中に随時追記。ドキュメントの役割が明確 |
| 検証設計にステータスを持たせる | 独立した「検証進捗」セクションは不要。各検証項目にステータスがあれば進捗はそこで追える |
| 「このPJで明らかになったこと」を追加 | 想定外の発見や新たな課題もPJの重要な成果。次のPJや意思決定の入力になる |
| フォーマットを強制しない | PJごとに状況が異なる。必要な要素が含まれていれば独自フォーマットでよい |

---

### 4.3 意思決定プロセス（アルゴ） (`02_decision_log.md`)

#### 役割

アルゴリズム開発における重要な意思決定の記録。「誰と・何を根拠に・なぜそう決めたか」を残し、将来の振り返り・類似PJへのナレッジ移転を可能にする。

#### 必要な要素

各意思決定エントリーに以下を含める：

| 要素 | 説明 | 必須 |
|------|------|------|
| ID | 一意な識別子（連番） | Yes |
| 日付 | いつ決めたか | Yes |
| 意思決定の内容 | 誰と・どのような検証内容/報告に基づいて | Yes |
| 選択肢 | 選ばれなかった選択肢も含む | Yes |
| 判断根拠 | なぜその手法・パラメータを選んだか。検証結果に基づく根拠 | Yes |
| 検証結果 | 意思決定時に報告されたバージョンの精度・評価結果 | Yes |
| 影響範囲 | 全体設計・他の意思決定への波及 | Yes |

#### テンプレート構造

```markdown
# 意思決定プロセス（アルゴ）

## サマリ

| # | 日付 | テーマ | 決定内容 | 関連検証 |
|----|------|--------|---------|---------|
| 001 | {date} | {theme} | {summary} | {関連する検証項目} |

---

## 詳細

### 001: {title}

**日付**: {YYYY-MM-DD}
**関連**: [全体設計の該当セクション](01_project_design.md)

#### 経緯
{誰と・どのような場で・何が報告されて・この意思決定に至ったか}

#### 選択肢
{検討した選択肢。採用案・不採用案の両方。メリット/デメリット}

#### 判断根拠
{なぜこの手法を選んだか。検証結果・制約条件に基づく根拠}

#### 検証結果
{意思決定時に報告されたバージョンの精度・評価結果}

#### 影響範囲
{全体設計・今後の検証・他の意思決定への影響}

---

### 002: {title}

...

---

## セルフチェックリスト

<!-- 新しい意思決定を記録するたびに確認 -->

- [ ] 選択肢は複数記録されているか（不採用案を含む）
- [ ] 判断根拠が記載されているか
- [ ] 全体設計の関連する検証項目と紐づけられているか
- [ ] 影響範囲が記載されているか
- [ ] 推進履歴に対応する変更ログが追加されているか
```

#### 設計意図

| 判断 | 理由 |
|------|------|
| 「選ばれなかった選択肢」の記録を必須に | 不採用案の記録がナレッジとして重要。Delta プロセスの検証記事定義にもある |
| 「経緯」で人の言葉を残す | 推進履歴と同じ思想。誰の判断・どのFBがトリガーだったかを後から辿れるようにする |
| セルフチェックリストで品質担保 | フォーマットは自由にしつつ、最低限の記録品質を保つ仕組み |

---

## 5. 運用ルール

### テンプレート初期化

| テンプレート | タイミング |
|------------|----------|
| 推進履歴 | Phase 2（Presales）開始時 |
| 全体設計 | Phase 3（PoC）の「プロジェクト全体設計」タスク時 |
| 意思決定 | Phase 3（PoC）の最初の意思決定発生時 |

### 更新の連動

意思決定や方針変更が発生したら：

1. **意思決定ログ**にエントリー追加
2. **推進履歴**に変更ログ追加（何が・なぜ・誰の言葉で変わったか）
3. **全体設計**の関連セクションを更新（検証設計のステータス、成果、スコープ、リスク等）

---

## 6. 参考にしたパターン

### 参考PJ（project-rikyu-sales-proposals-poc）

| パターン | 実例 | 採用 |
|---------|------|------|
| 検証すべき問いの構造化 | Q1〜Q5 + 成功基準 | 全体設計の検証スコープ |
| 詳細な変更履歴 | v1.0→v9.0 の変更ログ | 推進履歴の変更ログ構造 |
| Phase ベースの進行管理 | Phase 0→3 の段階的深化 | 全体設計の計画セクション |
| エキスパート FB による定性評価 | 品質観点 Q1-Q6、使える度 A-D、禁則条件 NG1-6 | 評価パラダイムの5タイプ定義 |

### 要求仕様テンプレート（システム側）

| パターン | 採用 |
|---------|------|
| 価値観点チェック | 全テンプレートのセルフチェックリスト |
| PoC で実証された能力 | 全体設計の「実証済み能力」 |
| 制約の構造化 | 全体設計の「制約」 |

### 全体検証設計ガイドライン

| パターン | 採用 |
|---------|------|
| 前提→ゴール→計画の3層構造 | 全体設計のドキュメント構造 |
| セルフチェックリスト | 全テンプレートにセルフチェックリストを配置 |
| 「課題がわかっていない」状態への対応 | 全体設計の「未知の領域・情報設計」 |

---

## 7. 今後の拡張

| 成果物 | 優先度 | 備考 |
|--------|--------|------|
| 詳細検証設計（目標） | 高 | 全体設計の下位。各検証テーマごとに作成 |
| 検証記事（手段・方法） | 高 | 意思決定ログと密結合。再現方法の記録が重要 |
| システム組み込み注意事項 | 中 | MVP フェーズ以降 |
| 内部結合試験仕様書 | 低 | MVP フェーズ以降 |

---

## 変更履歴

| 日付 | 更新内容 |
|------|----------|
| 2026-02-19 | 初版作成 |
| 2026-02-19 | 要求仕様テンプレートのパターン反映 |
| 2026-02-19 | LLM時代の評価パラダイム対応 |
| 2026-02-19 | **全面改修**: 推進履歴を「変更ログ」に再定義（検証進捗は全体設計に移動）。全体設計を「前提→ゴール→計画」構造に再設計（課題不明確・情報不足への対応を追加）。全テンプレートにセルフチェックリスト配置。過剰な型化を削除し汎用性を確保 |
