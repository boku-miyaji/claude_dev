# rikyu様 ソリューションセールス伴奏AI PoC 設計書

> **作成日**: 2026-01-17
> **更新日**: 2026-01-29
> **バージョン**: v2.17 (NTTData差別化戦略対応)

---

## 設計書ファイル一覧

| ファイル | 内容 | 主な読者 |
|----------|------|----------|
| [01_project_overview.md](01_project_overview.md) | プロジェクト概要・ゴール・成功基準 | 全員（必読） |
| [02_development_approach.md](02_development_approach.md) | LLM-First開発方針 | 開発チーム |
| [03_target_functions.md](03_target_functions.md) | 検証対象機能の設計 | 開発チーム・営業知見者 |
| [04_data_design.md](04_data_design.md) | データ設計・テストデータ | 開発チーム・データ担当 |
| [05_evaluation_design.md](05_evaluation_design.md) | 評価設計（3層評価・LLM-as-Judge） | 開発チーム・営業知見者 |
| [06_technical_design.md](06_technical_design.md) | アルゴリズム・技術設計・モック開発 | 開発チーム |
| [07_project_management.md](07_project_management.md) | スケジュール・体制・リスク・納品物 **（9.6 エンジニア向けスケジュール）** | PM・全員 |
| [08_appendix.md](08_appendix.md) | 補足資料・用語集 | 参照用 |
| [09_mock_system_design.md](09_mock_system_design.md) | モックシステム設計（検証プラットフォーム） | 開発チーム |
| [10_poc_system_redesign.md](10_poc_system_redesign.md) | PoC検証システム再設計（伴奏AI対応） | 開発チーム |
| [11_ux_ui_design.md](11_ux_ui_design.md) | UX/UI設計（ワイヤーフレーム・コンポーネント） | 開発チーム |
| [12_account_plan_integration.md](12_account_plan_integration.md) | **経営アジェンダ・キーパーソンマップ連携設計** | 開発チーム・営業知見者 |
| [13_agent_algorithm_design.md](13_agent_algorithm_design.md) | エージェントアルゴリズム設計 | 開発チーム |
| [14_knowledge_design.md](14_knowledge_design.md) | **ナレッジ設計（暗黙知・動的情報・蓄積サイクル）** | 全員（必読） |
| [15_improvement_hypotheses.md](15_improvement_hypotheses.md) | **改善仮説（課題仮説・対応策・ロードマップ）** | 開発チーム |
| [16_azure_deployment.md](16_azure_deployment.md) | **Azureデプロイ設計（CI/CD・IaC・コンテナ）** | 開発チーム |
| [17_differentiation_strategy.md](17_differentiation_strategy.md) | **NTTData PoC2との差別化戦略（暗黙知×AI）** | 全員（必読） |

---

## クイックサマリ

### 本PoCの本質

> **ソリューションセールス（アジェンダ営業）伴奏AI**の構築
> - 単発の商材提案ではなく、営業活動全体に伴奏するAI
> - 営業担当者と一緒に考え、アカウントプランを継続的にアップデートしていく存在

### NTTData PoC2との差別化 ★新規

> **関連**: [差別化戦略](17_differentiation_strategy.md)

```
┌─────────────────────────────────────────────────────────────────────┐
│           NTTData PoC2（データ×AI）vs 本PoC（暗黙知×AI）            │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  【NTTData PoC2】先方環境内で実データを活用した情報収集・分析        │
│  ├─ SFA + TSR + 公知情報 → AIエージェントで分析・レポート生成      │
│  ├─ 既に定量評価4.0/5.0達成                                        │
│  └─ 残課題: 「りそなとして何ができるか」「一般論的な提案」         │
│                                                                     │
│  【本PoC】暗黙知をAIに投入する仕組みの検証 ★差別化                  │
│  ├─ 仮データ環境（精度より「仕組み」を重視）                       │
│  ├─ ベテランの判断基準を形式知化しAIに教える                       │
│  ├─ FB→抽出→投入→精度向上のサイクルを実証                         │
│  └─ パーソナライズ対応（新人/中堅/ベテラン向け出力調整）           │
│                                                                     │
│  ★「データ化されていない暗黙知・ナレッジ」をどう入れるかが核心    │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

| 観点 | NTTData PoC2 | 本PoC |
|------|-------------|-------|
| データ | 実データ | 仮データ（仕組み重視） |
| 価値 | 情報収集・分析の自動化 | **ナレッジ蓄積の仕組み** |
| 評価 | 一般的な評価指標 | **知見ベースの評価観点** |
| 出力 | 静的なレポート | **対話的な伴奏体験** |

### 本PoCの目的

1. **精度レベルの測定**: AIが新人/中堅/ベテランのどのレベルか測定
2. **改善の道筋**: どうすればより高い精度が目指せるかを明確化
3. **実用化課題の整理**: 本番運用に向けて何が必要かを整理
4. **継続的改善の仕組み**: システムを使いながらの改善方法を設計
5. **暗黙知の抽出・言語化**: ベテランの判断基準を形式知化する方法の検証
6. **ナレッジの集め方・持ち方**: どのナレッジをどう蓄積すべきかの設計

### ナレッジ設計（新規） ★

> **関連**: [ナレッジ設計](14_knowledge_design.md)

```
┌─────────────────────────────────────────────────────────────────────┐
│                データとナレッジの違い                                 │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  【データ】構造化された事実                                          │
│  「売上300億、社長65歳、借入依存度高め」                             │
│                                                                     │
│  【ナレッジ】判断基準・経験則（暗黙知含む）                          │
│  「"借入増やしたくない"という発言は必ずしも借入拒否ではない」        │
│  「社長65歳以上→事業承継ニーズを必ず検討」                          │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘

【3層構造】
第1層（データ）   → 構造化された事実
第2層（形式知）   → 言語化された判断基準・ルール
第3層（暗黙知）   → ベテランの勘・経験則（抽出が必要）

【蓄積サイクル】
面談→AI利用→FB/修正→暗黙知抽出→ナレッジ化→精度向上→面談...
```

### 検証対象機能

```
【入力】                    【処理】                  【出力】

企業情報 ──────────────▶                         ┌─ 推定ニーズリスト
面談記録 ──────────────▶  機能①                 │   （優先度付き）
経営アジェンダシート ─────▶  顧客ニーズ推定AI ────▶├─ 情報充足度判定
キーパーソンマップ ───────▶                       └─ 深掘りポイント
                                                        │
                                                        ▼
★商材カタログ ────────▶  機能②                 ┌─ 提案方針（根拠付き）
企業情報 ──────────────▶  提案方針策定AI ────────▶├─ ネクストアクション ★
                         ※経営アジェンダ起点      │   ├─ 経営アジェンダ深掘り
                         ※商品起点ではない        │   └─ キーパーソン関係深化
                                                  └─ 活用商材（組み合わせ）

※商材カタログ: data/fixtures/products/product_catalog.yaml
```

### 伴奏AIの核心：ネクストアクション

```
┌─────────────────────────────────────────────────────────────────────┐
│  【従来】商材提案で完了                                              │
│  入力 → AI → 商材提案（終わり）                                      │
│                                                                     │
│  【伴奏AI】次のアクションを提示                                      │
│  入力 → AI → 提案 + ネクストアクション → 営業活動 → 新情報 → AI → ...│
│                 ├─ 経営アジェンダ深掘りアクション                   │
│                 ├─ キーパーソン関係深化アクション                   │
│                 └─ アカウントプラン更新提案                         │
└─────────────────────────────────────────────────────────────────────┘
```

### 改善仮説（新規） ★

> **関連**: [改善仮説](15_improvement_hypotheses.md)

```
【主な課題仮説】
CH-001: 固定Few-shot例では対象企業に最適な事例を提示できない
CH-002: 類似企業の定義が曖昧
CH-003: 過去事例の検索が手動依存

【優先度の高い改善案】
類似度ベースの過去事例検索
├─ 企業の類似度: 業種 × 規模 × 財務状況 × 経営課題
├─ ニーズの類似度: 推定ニーズカテゴリ × 優先度 × 背景
└─ Embedding + Azure AI Search による動的検索

【改善ロードマップ】
v0.1（初期版）→ v0.2（類似度検索導入）→ v0.3（高度化）
```

### 成功基準

| レベル | 定義 | PoC目標 |
|--------|------|---------|
| 新人レベル | 基本は拾えるが抜け漏れあり | 必達ライン |
| 中堅レベル | 主要項目を網羅、軽微な修正で使える | 目標ライン |
| ベテランレベル | 潜在ニーズまで先読み、そのまま使える | 挑戦ライン |
| Mgrレベル | 組織戦略を踏まえた判断ができる | 将来展望（PoC対象外） |

### 技術基盤

- **MS Agent Framework**（Azure AI Agent Service）を採用

### Azureデプロイ設計（新規） ★

> **関連**: [Azureデプロイ設計](16_azure_deployment.md)

```
【インフラ構成】
┌─────────────────────────────────────────────────┐
│  Azure Container Apps (API)                     │
│  ├─ ゼロスケール対応（コスト最適化）            │
│  └─ Managed Identity による認証                 │
├─────────────────────────────────────────────────┤
│  Blob Storage        │  Azure AI Search         │
│  (シナリオ/ナレッジ) │  (ベクトル検索)          │
├─────────────────────────────────────────────────┤
│  Azure OpenAI        │  Key Vault               │
│  (GPT-4o/Embedding)  │  (シークレット管理)      │
└─────────────────────────────────────────────────┘

【CI/CD】
GitHub Actions → ACR → Container Apps (自動デプロイ)

【IaC】
Bicep による Infrastructure as Code
```

### 進め方（アジャイル型）

- **まず1件で動かす**: 初回シナリオ1件でAI出力を作成、FBをもらう
- **課題ベースで拡張**: 課題に応じてシナリオを段階的に追加
- **シナリオ件数は固定しない**: 必要十分な件数で止める（最大50件目安）

### スケジュール概要

- **期間**: 9週間（2026/1/26〜3/27）※月曜日起点
- **W1-W2**: 環境構築、初回シナリオ作成（内部定義）
- **W3**: 初回output共有 → FB収集 → 改善サイクル開始
- **W4-W6**: 改善サイクル継続、LLM自動評価AI育成
- **W7-W8**: プロトタイプ完成、最終評価
- **W9**: バッファ、最終報告

### エンジニア向けスケジュール ★

> **参照**: [07_project_management.md § 9.6](07_project_management.md#96-エンジニア向けスケジュール業務委託)

```
【エンジニアマイルストーン】
2/7(金)  ベースライン完成    入力→出力が動作
2/14(金) 検証UI完成          出力をHTML/Excelで共有可能
2/21(金) 自動評価システム完成 自動評価が動作
3/7(金)  自動評価Final       人評価と概ね一致
3/14(金) プロトタイプ完成    デモ可能な状態
3/27(金) 納品完了            納品物一式提出

【技術ドキュメント参照】
- インフラ/CI/CD → 16_azure_deployment.md
- エージェント   → 06_technical_design.md
- 評価設計       → 05_evaluation_design.md
```

---

## 変更履歴

| バージョン | 日付 | 変更内容 |
|------------|------|----------|
| v2.17 | 2026-01-29 | **NTTData差別化戦略対応**: NTTData PoC2との差別化戦略ドキュメント（17_differentiation_strategy.md）を新規作成。「暗黙知×AI」のアプローチ、パーソナライズ設計、知見ベースの評価観点（4ルーブリック追加）を設計。01/14/05_evaluation_design各ドキュメントを更新 |
| v2.16 | 2026-01-27 | **商材カタログ追加**: 商材カタログ（ProductCatalog）をdata/fixtures/products/に追加。入力モデル・シナリオに商材情報を追加 |
| v2.15 | 2026-01-26 | **6AIアーキテクチャ対応**: 3層構造（生成→評価→改善）に再設計。AI②を「提案方針策定AI」に変更（商品起点→経営アジェンダ起点）。評価AIに解像度ルーブリック追加。AI⑤⑥（課題特定・改善策AI）を追加。Phase 1-3のフェーズ設計 |
| v2.15 | 2026-01-26 | **商材カタログ追加**: 商材情報の入力を追加 |
| v2.14 | 2026-01-26 | **resource_plan.md集約**: resource_plan.mdを07_project_management.mdに集約。plan/ディレクトリを削除 |
| v2.13 | 2026-01-26 | **スケジュール日付修正**: W1開始を1/27→1/26に修正（1/26が月曜日）。07_project_management.md、00_summary.mdを整合 |
| v2.12 | 2026-01-26 | **エンジニアスケジュール整備**: 07_project_management.mdに「9.6 エンジニア向けスケジュール」セクションを追加。週別タスク一覧、マイルストーン、技術スタック参照を整理 |
| v2.11 | 2026-01-26 | **Azureデプロイ設計追加**: Azure Container Apps、Blob Storage + AI Search構成、GitHub Actions CI/CD、Bicep IaCを追加 |
| v2.10 | 2026-01-26 | **改善仮説追加**: 初期版の課題仮説・対応策仮説をまとめたドキュメントを新規作成。類似度ベースの過去事例検索（企業類似度・ニーズ類似度）を主要改善案として追加 |
| v2.9 | 2026-01-26 | **ナレッジ設計追加**: データとナレッジの違い、暗黙知の3層構造、動的/静的情報の分類、暗黙知の抽出・言語化方法、継続的蓄積サイクルを新規ドキュメントとして追加 |
| v2.8 | 2026-01-25 | **MS Agent Framework + Opik実装設計**: Azure AI Agent Service (azure-ai-projects 2.0.0b2) と Opik を使った具体的な実装設計を追加。4エージェント構成・トレーシング・評価AI連携のコード例を記載 |
| v2.7 | 2026-01-25 | **トレース活用評価**: 評価AI（③④）がメインAI（①②）の推論トレースを分析し、障害点特定・具体的改善示唆を行う設計に拡張 |
| v2.6 | 2026-01-25 | **4エージェント構成**: 自動評価AIをニーズ推定評価AI（③）とソリューション推薦評価AI（④）に分離、個別改善・PDCAを回しやすく設計変更 |
| v2.5 | 2026-01-25 | **全docs伴奏AI対応完了**: 05_evaluation_design（評価基準・ルーブリック追加）、06_technical_design（API例更新）、10_poc_system_redesign（検証フロー・パイプライン更新）、11_ux_ui_design（UI設計に新入出力追加）の各ドキュメントを伴奏AI対応に更新 |
| v2.4 | 2026-01-25 | **伴奏AI再定義**: プロジェクトの本質を「ソリューションセールス伴奏AI」に再定義、経営アジェンダシート・キーパーソンマップを必須入力に追加、ネクストアクション（深掘り・関係深化）を出力に追加、アカウントプラン連携設計を新規追加、事例活用範囲をアカウントプラン運用事例まで拡大 |
| v2.3 | 2026-01-23 | アジャイル型アプローチに変更（1件から開始）、MS Agent Framework採用、80%閾値削除 |
| v2.2 | 2026-01-22 | モックシステム設計追加（検証プラットフォーム、画面設計、データモデル、API設計） |
| v2.1 | 2026-01-22 | 自動評価LLM設計（LLM-as-Judge、EvaluatorPlugin）、改善策自動生成機能（内部用、顧客非公開）、Opik改善分析ダッシュボード |
| v2.0 | 2026-01-22 | エージェント型アーキテクチャ設計（Orchestrator/Tools/Retriever層、Embedding/AI Search対応、Skills拡張設計） |
| v1.9 | 2026-01-22 | アルゴリズム詳細設計追加（Single-Call方式、プロンプトテンプレートYAML、JSON Schema、拡張ポイント明確化） |
| v1.8 | 2026-01-22 | 顧客コミュニケーション設計追加（出力サンプル共有→FB→修正サイクル、対面デモ、精度は最終報告時） |
| v1.7 | 2026-01-22 | スケジュール修正（9週間、1/27-3/27、月曜日起点）、Week 8-9分割 |
| v1.6 | 2026-01-22 | SME→営業知見者、ブラッシュアップ機能追加、制約/失注理由蓄積、LLM-as-Judge一致率追加、スケジュール1/27-3月、データ収集方針更新、提案書整合 |
| v1.5 | 2026-01-22 | PoC目的を「精度レベルの測定」「改善の道筋」「継続的改善の仕組み」に再構成 |
| v1.4 | 2026-01-21 | 評価の段階的アプローチ（人評価15件→自動評価AI育成）を反映 |
| v1.3 | 2026-01-21 | 過去事例活用（類似企業のニーズ・提案事例を入力・出力に追加）を反映 |
| v1.2 | 2026-01-21 | 評価設計改訂（3AI構成、100シナリオLLM生成）を反映 |
| v1.1 | 2026-01-21 | MTG方針（ソリューションセールス重視、関連取り組みとの位置づけ整理）を反映 |
| v1.0 | 2026-01-21 | pj_design.md と verification_design.md を統合 |
